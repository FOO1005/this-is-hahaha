<!--
 * @author: fengfang
 * @file: description
 * @Date: 2020-05-08 19:24:23
 * @LastEditors: fengfang
 * @LastEditTime: 2020-05-08 21:05:51
 -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Document</title>
  </head>
  <body>
    <script>
      /*
        订阅模式
        document.addEventListener('click',fn);

        发布模式
        真的点击document

        let event = document.createEvent('HTMLEvents')  创建一个事件对象
        //初始化，事件类型，是否冒泡，是否阻止浏览器的默认行为
        event.initEvent('事件名',false,false) 初始化事件
        element.dispatchEvent(event) 发布
        
    */

      //订阅
      document.addEventListener('上滚', function () {
        alert(1);
      });

      document.addEventListener('上滚', function () {
        alert('又了一下');
      });

      let event = document.createEvent('HTMLEvents'); //创建一个事件对象
      event.initEvent('上滚', false, false); //初始化事件

      document.onmousewheel = function (ev) {
        //上滚大于0，下滚小于0
        if (ev.wheelDelta > 0) {
          document.dispatchEvent(event); //发布事件
        }
      };

      // let event=document.creatEvent('HTMLEvents');
      // event.initEvent('上滚',false,false);
      // document.onmousewheel=function(ev){
      //     if(ev.wheelDelta>0){
      //         document.wheelDelta(event);
      //     }
      // }
      // document.addEventListener('上滚',function(){
      //     alert(1)
      // })
    </script>
  </body>
</html>
